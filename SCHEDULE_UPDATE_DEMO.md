# Demo: Chá»©c nÄƒng Lá»‹ch trÃ¬nh Cáº­p nháº­t Tá»± Ä‘á»™ng

## ğŸ¯ TÃ­nh nÄƒng má»›i: Lá»‹ch trÃ¬nh cá»‘ Ä‘á»‹nh

Thay vÃ¬ cáº­p nháº­t theo khoáº£ng thá»i gian (má»—i 30 phÃºt), giá» Ä‘Ã¢y báº¡n cÃ³ thá»ƒ **chá»n thá»i gian cá»¥ thá»ƒ** Ä‘á»ƒ há»‡ thá»‘ng tá»± Ä‘á»™ng cáº­p nháº­t mÃ  khÃ´ng cáº§n áº¥n nÃºt.

## ğŸš€ CÃ¡c loáº¡i lá»‹ch trÃ¬nh

### 1. **HÃ ng ngÃ y (Daily)**
- Cáº­p nháº­t vÃ o cÃ¹ng má»™t giá» má»—i ngÃ y
- VÃ­ dá»¥: "8:00 sÃ¡ng má»—i ngÃ y"

### 2. **HÃ ng tuáº§n (Weekly)**
- Cáº­p nháº­t vÃ o cÃ¹ng má»™t giá» cÃ¡c ngÃ y Ä‘Æ°á»£c chá»n trong tuáº§n
- VÃ­ dá»¥: "9:00 sÃ¡ng thá»© 2, 4, 6"

### 3. **HÃ ng thÃ¡ng (Monthly)**
- Cáº­p nháº­t vÃ o cÃ¹ng má»™t giá» má»—i thÃ¡ng
- VÃ­ dá»¥: "10:00 sÃ¡ng ngÃ y 1 má»—i thÃ¡ng"

### 4. **Má»™t láº§n duy nháº¥t (Once)**
- Cáº­p nháº­t vÃ o thá»i gian cá»¥ thá»ƒ chá»‰ má»™t láº§n
- VÃ­ dá»¥: "14:00 ngÃ y 25/12/2024"

## ğŸ¨ Giao diá»‡n má»›i

### Modal cÃ i Ä‘áº·t Auto Update:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CÃ i Ä‘áº·t cáº­p nháº­t tá»± Ä‘á»™ng            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Dá»‹ch vá»¥: [TÃªn dá»‹ch vá»¥]             â”‚
â”‚                                     â”‚
â”‚ Báº­t cáº­p nháº­t tá»± Ä‘á»™ng: [Switch]     â”‚
â”‚                                     â”‚
â”‚ Chá»n khoáº£ng thá»i gian cáº­p nháº­t:     â”‚
â”‚ â—‹ Thá»i gian cÃ³ sáºµn                  â”‚
â”‚ â—‹ Thá»i gian tÃ¹y chá»‰nh               â”‚
â”‚ â— Lá»‹ch trÃ¬nh cá»‘ Ä‘á»‹nh                â”‚
â”‚                                     â”‚
â”‚ Loáº¡i lá»‹ch trÃ¬nh:                   â”‚
â”‚ [Select: HÃ ng ngÃ y â–¼]               â”‚
â”‚                                     â”‚
â”‚ Thá»i gian cáº­p nháº­t:                 â”‚
â”‚ [TimePicker: 08:00 â–¼]               â”‚
â”‚                                     â”‚
â”‚ Lá»‹ch trÃ¬nh: HÃ ng ngÃ y lÃºc 08:00     â”‚
â”‚                                     â”‚
â”‚ ThÃ´ng tin hiá»‡n táº¡i:                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Tráº¡ng thÃ¡i: [Äang báº­t]          â”‚ â”‚
â”‚ â”‚ Khoáº£ng thá»i gian: HÃ ng ngÃ y...  â”‚ â”‚
â”‚ â”‚ Cáº­p nháº­t cuá»‘i: 14:30 25/12/2024 â”‚ â”‚
â”‚ â”‚ Cáº­p nháº­t tiáº¿p theo: 08:00...    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ â€¢ Há»‡ thá»‘ng sáº½ tá»± Ä‘á»™ng gá»i cÃ¡c link... â”‚
â”‚ â€¢ Chá»‰ Ã¡p dá»¥ng cho cÃ¡c dá»‹ch vá»¥...     â”‚
â”‚ â€¢ Thá»i gian cÃ³ sáºµn: Chá»n tá»«...       â”‚
â”‚ â€¢ Thá»i gian tÃ¹y chá»‰nh: Nháº­p sá»‘...    â”‚
â”‚ â€¢ Lá»‹ch trÃ¬nh cá»‘ Ä‘á»‹nh: Cáº­p nháº­t...    â”‚
â”‚ â€¢ Báº¡n cÃ³ thá»ƒ táº¯t báº¥t ká»³ lÃºc nÃ o      â”‚
â”‚                                     â”‚
â”‚ [Há»§y] [LÆ°u]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ CÃ¡ch sá»­ dá»¥ng

### BÆ°á»›c 1: Má»Ÿ cÃ i Ä‘áº·t
1. VÃ o trang "Dá»‹ch vá»¥ cá»§a tÃ´i"
2. Trong báº£ng "Danh sÃ¡ch dá»‹ch vá»¥"
3. Click icon âš™ï¸ á»Ÿ cá»™t "Cáº­p nháº­t tá»± Ä‘á»™ng"

### BÆ°á»›c 2: Chá»n "Lá»‹ch trÃ¬nh cá»‘ Ä‘á»‹nh"
- Chá»n radio button "Lá»‹ch trÃ¬nh cá»‘ Ä‘á»‹nh"

### BÆ°á»›c 3: CÃ i Ä‘áº·t lá»‹ch trÃ¬nh
- **Loáº¡i lá»‹ch trÃ¬nh**: Chá»n tá»« dropdown
- **Thá»i gian**: Chá»n giá»:phÃºt báº±ng TimePicker
- **NgÃ y** (náº¿u chá»n "Má»™t láº§n duy nháº¥t"): Chá»n ngÃ y báº±ng DatePicker
- **NgÃ y trong tuáº§n** (náº¿u chá»n "HÃ ng tuáº§n"): Chá»n cÃ¡c ngÃ y

### BÆ°á»›c 4: LÆ°u
- Click "LÆ°u" Ä‘á»ƒ Ã¡p dá»¥ng

## ğŸ“Š VÃ­ dá»¥ lá»‹ch trÃ¬nh

| Loáº¡i | Thá»i gian | CÃ i Ä‘áº·t | Káº¿t quáº£ |
|------|-----------|---------|---------|
| HÃ ng ngÃ y | 08:00 | - | Cáº­p nháº­t lÃºc 8:00 sÃ¡ng má»—i ngÃ y |
| HÃ ng tuáº§n | 09:00 | Thá»© 2, 4, 6 | Cáº­p nháº­t lÃºc 9:00 sÃ¡ng thá»© 2, 4, 6 |
| HÃ ng thÃ¡ng | 10:00 | - | Cáº­p nháº­t lÃºc 10:00 sÃ¡ng ngÃ y 1 má»—i thÃ¡ng |
| Má»™t láº§n | 14:00 | 25/12/2024 | Cáº­p nháº­t lÃºc 2:00 chiá»u ngÃ y 25/12/2024 |

## ğŸ¯ TÃ­nh nÄƒng ná»•i báº­t

### 1. **Linh hoáº¡t**
- 4 loáº¡i lá»‹ch trÃ¬nh khÃ¡c nhau
- Chá»n thá»i gian chÃ­nh xÃ¡c Ä‘áº¿n phÃºt
- Há»— trá»£ chá»n nhiá»u ngÃ y trong tuáº§n

### 2. **Trá»±c quan**
- TimePicker Ä‘á»ƒ chá»n giá»:phÃºt
- DatePicker Ä‘á»ƒ chá»n ngÃ y
- Multi-select cho ngÃ y trong tuáº§n
- Preview lá»‹ch trÃ¬nh real-time

### 3. **ThÃ´ng minh**
- Tá»± Ä‘á»™ng tÃ­nh thá»i gian cáº­p nháº­t tiáº¿p theo
- Validation input há»£p lá»‡
- KhÃ´ng cho chá»n ngÃ y quÃ¡ khá»© (cho "Má»™t láº§n")

### 4. **User-friendly**
- Hiá»ƒn thá»‹ lá»‹ch trÃ¬nh rÃµ rÃ ng
- ThÃ´ng tin cáº­p nháº­t cuá»‘i vÃ  tiáº¿p theo
- HÆ°á»›ng dáº«n chi tiáº¿t

## ğŸš€ Test Cases

### Test 1: HÃ ng ngÃ y
```
Input: HÃ ng ngÃ y lÃºc 08:00
Expected: Hiá»ƒn thá»‹ "HÃ ng ngÃ y lÃºc 08:00" trong báº£ng
Next Update: NgÃ y mai lÃºc 08:00
```

### Test 2: HÃ ng tuáº§n
```
Input: HÃ ng tuáº§n lÃºc 09:00, chá»n Thá»© 2, 4, 6
Expected: Hiá»ƒn thá»‹ "HÃ ng tuáº§n lÃºc 09:00" trong báº£ng
Next Update: Thá»© 2, 4, hoáº·c 6 gáº§n nháº¥t lÃºc 09:00
```

### Test 3: Má»™t láº§n
```
Input: Má»™t láº§n lÃºc 14:00 ngÃ y 25/12/2024
Expected: Hiá»ƒn thá»‹ "Má»™t láº§n lÃºc 14:00" trong báº£ng
Next Update: 25/12/2024 lÃºc 14:00 (náº¿u chÆ°a qua)
```

### Test 4: Validation
```
Input: Má»™t láº§n khÃ´ng chá»n ngÃ y
Expected: Hiá»ƒn thá»‹ lá»—i "Vui lÃ²ng chá»n ngÃ y cáº­p nháº­t"
```

## ğŸ”„ Luá»“ng hoáº¡t Ä‘á»™ng

1. **Má»Ÿ Modal** â†’ Load cÃ i Ä‘áº·t hiá»‡n táº¡i
2. **Chá»n "Lá»‹ch trÃ¬nh cá»‘ Ä‘á»‹nh"** â†’ Hiá»ƒn thá»‹ UI schedule
3. **Chá»n loáº¡i lá»‹ch trÃ¬nh** â†’ Hiá»ƒn thá»‹ fields tÆ°Æ¡ng á»©ng
4. **Chá»n thá»i gian** â†’ Preview lá»‹ch trÃ¬nh
5. **Click LÆ°u** â†’ TÃ­nh nextUpdateAt â†’ Gá»­i API
6. **Refresh** â†’ Hiá»ƒn thá»‹ lá»‹ch trÃ¬nh má»›i

## ğŸ“ Code Changes

### Frontend State má»›i:
```javascript
const [autoUpdateSettings, setAutoUpdateSettings] = useState({
  enabled: false,
  interval: 30,
  timeType: 'preset', // 'preset', 'custom', hoáº·c 'schedule'
  customValue: 30,
  customUnit: 'minutes',
  scheduleType: 'daily', // 'daily', 'weekly', 'monthly', 'once'
  scheduleTime: null, // moment object
  scheduleDate: null, // moment object (cho 'once')
  scheduleDays: [], // array cÃ¡c ngÃ y trong tuáº§n (cho 'weekly')
});
```

### Backend Model má»›i:
```javascript
autoUpdate: {
  enabled: Boolean,
  interval: Number,
  lastUpdateAt: Date,
  nextUpdateAt: Date,
  scheduleType: String, // 'daily', 'weekly', 'monthly', 'once'
  scheduleTime: String, // 'HH:mm'
  scheduleDate: String, // 'YYYY-MM-DD' (cho 'once')
  scheduleDays: [Number] // [0,1,2,3,4,5,6] (cho 'weekly')
}
```

### UI Components má»›i:
- `TimePicker` Ä‘á»ƒ chá»n thá»i gian
- `DatePicker` Ä‘á»ƒ chá»n ngÃ y
- `Select` vá»›i `mode="multiple"` cho ngÃ y trong tuáº§n
- Preview lá»‹ch trÃ¬nh real-time

## âœ… Káº¿t quáº£

Chá»©c nÄƒng lá»‹ch trÃ¬nh cá»‘ Ä‘á»‹nh Ä‘Ã£ Ä‘Æ°á»£c triá»ƒn khai vá»›i:
- âœ… 4 loáº¡i lá»‹ch trÃ¬nh (daily/weekly/monthly/once)
- âœ… TimePicker cho thá»i gian chÃ­nh xÃ¡c
- âœ… DatePicker cho ngÃ y cá»¥ thá»ƒ
- âœ… Multi-select cho ngÃ y trong tuáº§n
- âœ… Validation vÃ  error handling
- âœ… TÃ­nh toÃ¡n nextUpdateAt thÃ´ng minh
- âœ… Hiá»ƒn thá»‹ thÃ´ng tin rÃµ rÃ ng
- âœ… TÆ°Æ¡ng thÃ­ch vá»›i backend

## ğŸ‰ Lá»£i Ã­ch

1. **KhÃ´ng cáº§n áº¥n nÃºt**: Há»‡ thá»‘ng tá»± Ä‘á»™ng cáº­p nháº­t Ä‘Ãºng giá»
2. **Linh hoáº¡t**: Chá»n thá»i gian phÃ¹ há»£p vá»›i lá»‹ch lÃ m viá»‡c
3. **ChÃ­nh xÃ¡c**: Cáº­p nháº­t Ä‘Ãºng giá» Ä‘Ã£ Ä‘áº·t
4. **Tiá»‡n lá»£i**: Má»™t láº§n cÃ i Ä‘áº·t, hoáº¡t Ä‘á»™ng mÃ£i mÃ£i
5. **Kiá»ƒm soÃ¡t**: CÃ³ thá»ƒ táº¯t/báº­t báº¥t ká»³ lÃºc nÃ o
